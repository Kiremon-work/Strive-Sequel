extends Reference

var skills = {
	darkness = {
		code = 'darkness',
		descript = '',
		icon = "res://assets/images/iconsskills/icon_dark.png",
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads','dark'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_blind', duration = 1})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.75,
		variations = [
			{
				reqs = [{code = 'stat', stat = 'mastery_dark', value = 3, operant = 'gte'}],
				set = {effects = [Effectdata.rebuild_template({effect = 'e_s_blind', duration = 2})]},
				add = {descript = '_1'}
			},
		]
	},
	black_tendrils = {
		code = 'black_tendrils',
		descript = '',
		icon = load("res://assets/images/iconsskills/defaultattack.png"),
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage', 'aoe', 'debuff'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template_globals({effect = 'e_s_ensnare'})], 
		cost = {mp = 5},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'dark',
		aipatterns = ['attack'],
		allowedtargets = ['enemy'],
		value = 0.3,
		random_factor_p = 0.1,
		sfx = [{code = 'weapon', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
	},
	malediction = {
		code = 'malediction',
		descript = '',
		icon = "res://assets/images/iconsskills/icon_elementa_weakness.png",
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage','ads','dark'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_cursed', duration = 5})], 
		cost = {mp = 8},
		charges = 0,
		combatcooldown = 5,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.6,
	},
	devour_magic = {
		code = 'devour_magic',
		descript = '',
		icon = "res://assets/images/iconsskills/ManaDrain.png",
		type = 'combat', 
		ability_type = 'spell',
		tags = ['support','ads','dark'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_devourmagic'], 
		cost = {mp = 5},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'dark',
		sfx = [{code = 'water_attack', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = [['0']],
		damagestat = ['no_stat'],
	},
	veil = {
		code = 'veil',
		descript = '',
		icon = "res://assets/images/iconsskills/skill_veil.png",
		type = 'combat', 
		ability_type = 'spell',
		tags = ['support', 'buff'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_veil', duration = 5, push_value = true})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'line',
		target_range = 'any',
		damage_type = 'dark',#not sure but not matters
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['caster.matk', '*0.5']],
		damagestat = ['no_stat'],
	},
	skill_void = {
		code = 'skill_void',
		descript = '',
		icon = "res://assets/images/iconsskills/skill_void.png",
		type = 'combat', 
		ability_type = 'spell',
		tags = ['damage', 'aoe', 'debuff'],
		reqs = [],
		targetreqs = [],
		effects = ['e_s_void'], 
		cost = {mp = 10},
		charges = 0,
		combatcooldown = 1,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'dark',
		aipatterns = ['attack'],
		allowedtargets = ['enemy'],
		value = 2.0,
		random_factor_p = 0.1,
		sfx = [{code = 'weapon', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
	},
}
var effects = {
	e_s_devourmagic = {
		type = 'trigger',
		trigger = [variables.TR_POSTDAMAGE],
		conditions = [],
		req_skill = true,
		args = [],
		duration = 3,
		sub_effects = [
			Effectdata.rebuild_remove_effect('buff'), #fill proper tags
			Effectdata.rebuild_remove_effect('positive'),
			'e_s_silence1'
			],
		buffs = []
	},
	e_s_veil = {
		type = 'temp_s',
		target = 'target',
		name = 'veil',
		tick_event = variables.TR_TURN_S,
		rem_event = [variables.TR_COMBAT_F, variables.TR_DEATH],
		duration = 'parent',
		stack = 1,
		tags = ['buff'],
		args = [{obj = 'parent_args', param = 0}],
		sub_effects = [],
		atomic = [
			{type = 'stat_add', stat = 'mdef', value = ['parent_args', 0]},
			{type = 'stat_add', stat = 'resist_light', value = 30},
			{type = 'stat_add', stat = 'resist_dark', value = 30},
			],
		buffs = [
			{
				icon = "res://assets/images/iconsskills/skill_veil.png",
				description = "TRAITEFFECTVEIL",
				limit = 1,
				t_name = 'veil'
			}
		],
	},
	e_s_void = {
		type = 'trigger',
		conditions = [
			{type = 'skill', value = ['hit_res', 'mask', variables.RES_CRIT]},
		],
		trigger = [variables.TR_POSTDAMAGE],
		req_skill = true,
		duration = 1,
		args = [{obj = 'parent', param = 'target'}, {obj = 'parent', param = 'caster'}],
		sub_effects = [],
		modal_sub_effects = ['e_s_blind', 'e_s_disarm1', 'e_s_silence1'],
		buffs = []
	},
}
var atomic_effects = {}
var buffs = {}
