extends Reference

var skills = {
	first_aid = {#heals target for 30%
		code = 'first_aid',
		descript = '',
		icon = "res://assets/images/iconsskills/HealBandage.png",
		type = 'combat', 
		ability_type = 'skill',
		tags = ['heal', 'noreduce', 'noevade','support', 'exploration'],
#		new_syntax = true,
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = Effectdata.rebuild_remove_effect('bleed')}),Effectdata.rebuild_template({effect = Effectdata.rebuild_remove_effect('poison_new')})], 
		cost = {},
		charges = 0,
		combatcooldown = 0,
		cooldown = 0,
		catalysts = {bandage = 1},
		target = 'ally',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'light',
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['target.hpmax','*0.30']],
		damagestat = ['-damage_hp']
	},
	inspire = {
		code = 'inspire',
		descript = '',
		icon = "res://assets/images/iconsskills/Inspire.png",
		type = 'combat',
		ability_type = 'spell',
		tags = ['buff'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_t_inspire'})], 
		cost = {},
		charges = 1,
		combatcooldown = 0,
		cooldown = 1,
		catalysts = {},
		target = 'ally',
		target_number = 'all',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'buff', target = 'target', period = 'predamage'}],
		sound = [],
		value = [['0']],
		damagestat = 'no_stat'
	},
	leadersmark = { 
		code = 'leadersmark',
		descript = '',
		icon = "res://assets/images/iconsskills/Command.png",
		type = 'combat', 
		ability_type = 'skill',
		tags = ['debuff'],
		reqs = [],
		targetreqs = [],
		effects = [Effectdata.rebuild_template({effect = 'e_s_hmark', duration = 3})], 
		cost = {},
		charges = 0,
		combatcooldown = 3,
		cooldown = 0,
		catalysts = {},
		target = 'enemy',
		target_number = 'single',
		target_range = 'any',
		damage_type = 'weapon',
		sfx = [{code = 'debuff', target = 'target', period = 'predamage'}], 
		sounddata = {initiate = null, strike = 'blade', hit = null},
		value = 0.7,
	},
	rally = {
		code = 'rally',
		descript = '',
		icon = "res://assets/images/iconsskills/skill_rally.png",
		type = 'combat', 
		ability_type = 'skill',
		tags = ['heal', 'noreduce', 'noevade','support'],
#		new_syntax = true,
		reqs = [],
		targetreqs = [],
		effects = [], 
		cost = {mp = 15},
		charges = 0,
		combatcooldown = 5,
		cooldown = 0,
		catalysts = {},
		target = 'ally',
		target_number = 'single',
		target_range = 'not_caster',
		damage_type = 'light',
		sfx = [{code = 'heal', target = 'target', period = 'predamage'}],
		sounddata = {initiate = null, strike = 'skill_scene', hit = null},
		value = [['target.hpmax','*0.30']],
		damagestat = ['restore_mana']
	},
}
var effects = {
	e_t_inspire = {
		type = 'temp_s',
		target = 'target',
		name = 'inspire',
		tick_event = variables.TR_TURN_F,
		rem_event = [variables.TR_COMBAT_F, variables.TR_DEATH],
		stack = 1,
		tags = ['buff'],
		sub_effects = [],
		atomic = [
			{type = 'stat_add', stat = 'damage_mod_all', value = 0.2},
			{type = 'stat_add_p', stat = 'armor', value = 0.2},
			{type = 'stat_add_p', stat = 'mdef', value = 0.2},
		],
		buffs = [
			{
				icon = "res://assets/images/iconsskills/Inspire.png",
				description = "TRAITEFFECTINSPIRED",
				limit = 1,
				t_name = 'inspire'
			}
		],
	},
	e_s_hmark = { #has troubles with protect effect
		type = 'temp_s',
		target = 'target',
		name = 'huntersmark',
		tick_event = variables.TR_TURN_F,
		rem_event = [variables.TR_COMBAT_F, variables.TR_DEATH],
		duration = 'parent',
		stack = 1,
		tags = ['debuff'],
		sub_effects = ['e_t_hmark'],
		atomic = [],
		buffs = [
			{
				icon = "res://assets/images/iconsskills/Command.png",
				description = "TRAITEFFECTHMARK",
				limit = 1,
				t_name = 'huntersmark',
				combat_only = true,
			}
		],
	},
	e_t_hmark = {
		type = 'trigger',
		conditions = [{type = 'skill', value = ['tags', 'has', 'damage']}],
		trigger = [variables.TR_DEF],
		req_skill = true,
		args = [],
		sub_effects = [
			{
				type = 'oneshot',
				target = 'skill',
				args = [],
				atomic = [{type = 'stat_mul', stat = 'value', value = 1.15}],
			},
		],
		buffs = []
	},
	e_t_rally = {
		type = 'oneshot',
		target = 'target',
		args = [],
		atomic = [{type = 'reset_cooldowns'}],
	}
}
var atomic_effects = {}
var buffs = {}
